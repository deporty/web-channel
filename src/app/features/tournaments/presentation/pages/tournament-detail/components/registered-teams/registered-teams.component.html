<ng-container
  *ngIf="!!$registeredTeams && !!($registeredTeams | async); else loading"
>
  <ng-container *ngIf="!!($registeredTeams | async)?.length; else noItems">
    <div
      class="w-100 px-3 h-100 d-flex flex-wrap justify-content-start row pt-3"
    >
      <ng-container *ngFor="let item of $registeredTeams | async">
        <div
          class="col-12 col-sm-6 col-md-4 col-lg-4 col-xl-3 col-xxl-3"
          *ngIf="availableStatus.includes(item.registeredTeam.status)"
        >
          <div
            class="border w-100 m-2 d-flex align-items-center position-relative justify-content-between my-2 p-2 rounded"
          >
            <span
              (click)="onUpdateStatus.emit(item.registeredTeam)"
              [class]="'status ' + getClass(item.registeredTeam.status)"
              >{{ getDisplay(item.registeredTeam.status) }}</span
            >
            <div class="d-flex flex-column mt-3 ps-2">
              <app-team-summary-basic-card
                matBadgePosition="before"
                matBadgeColor="warn"
                [team]="item.team"
                (click)="navigate(item.team)"
              ></app-team-summary-basic-card>
              <span *ngIf="item.registeredTeam.enrollmentDate">{{
                item.registeredTeam.enrollmentDate | date : "fullDate"
              }}</span>
            </div>
            <button
              (click)="deleteRegisteredTeam(item.registeredTeam.id!)"
              class="ms-3"
              appIsAllowed
              identifier="delete-registered-team-by-id"
              mat-icon-button
            >
              <mat-icon> delete </mat-icon>
            </button>
          </div>
        </div>
      </ng-container>
    </div>
  </ng-container>
  <ng-template #noItems>
    <app-no-content class="mt-3" text="No hay equipos registrados">
    </app-no-content>
  </ng-template>
</ng-container>
<ng-template #loading>
  <div class="loading w-100 d-flex justify-content-center align-items-center">
    <app-default-loading> </app-default-loading>
  </div>
</ng-template>
